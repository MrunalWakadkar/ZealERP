{% extends 'studentApp/index.html' %}
{% block mainblock %}

<!-- Main Content -->
<main class="content">
    <h1>Your Personal Profile Info</h1>
    <div class="profile-container">
        <!-- Profile Image Section -->
        <div class="profile-image-section">
            <h2>Profile Picture</h2>
            <div class="profile-image">
                <img id="profile_preview" src="{{ student.profile_picture.url }}" alt="Profile Picture">
            </div>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="file" name="profile_picture" accept="image/*"  id="profileInput">
                <button type="submit">Upload</button>
            </form>
        </div>

        <!-- Profile Info Section -->
        <div class="form-section">
            <h2>Profile</h2>
            <label>First Name</label>
            <input type="text" value="{{ student.user.first_name }}" placeholder="First Name">

            <label>Last Name</label>
            <input type="text" value="{{ student.user.last_name }}" placeholder="Last Name">

            <label>Username</label>
            <input type="text" value="{{ student.user.username }}" placeholder="Username">

            <label>Email</label>
            <input type="email" value="{{ student.user.email }}" placeholder="Email">

            <label>Phone</label>
            <input type="text" value="{{ student.phone }}" placeholder="Phone">

            <label>Address</label>
            <textarea placeholder="Enter your address">{{ student.address }}</textarea>

            <label>Course</label>
            <input type="text" value="{{ student.course.name }}" readonly>

            <label>Division</label>
            <input type="text" value="{{ student.division.name }}" readonly>

            <label>Guardian Name</label>
            <input type="text" value="{{ student.guardian_name }}" placeholder="Guardian Name">

            <label>Guardian Phone</label>
            <input type="text" value="{{ student.guardian_phone }}" placeholder="Guardian Phone">
        </div>
    </div>
</main>
<script>
    document.getElementById('profileInput').addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('profilePreview').src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    });
</script>

{% endblock mainblock %}
